# Backend Environment Variables for Mariposa
# Copy this file to .env and update the values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server Port
PORT=5000

# Node Environment (development/production/staging)
NODE_ENV=development

# Server Host (usually 0.0.0.0 for production, localhost for development)
HOST=localhost

# Enable CORS (true/false)
ENABLE_CORS=true

# Allowed Origins (comma-separated URLs)
CORS_ORIGINS=http://localhost:3002,http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MongoDB Connection URI
# Development: mongodb://localhost:27017/mariposa
# Production: mongodb://user:password@host:port/database
MONGODB_URI=mongodb://localhost:27017/mariposa

# MongoDB Connection Options
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=5
MONGODB_CONNECTION_TIMEOUT=30000

# =============================================================================
# JWT CONFIGURATION
# =============================================================================

# JWT Secret Key (IMPORTANT: Use a secure, randomly generated secret)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-here-change-in-production

# JWT Token Expiration
JWT_EXPIRE=24h

# JWT Refresh Token Expiration
JWT_REFRESH_EXPIRE=7d

# JWT Issuer
JWT_ISSUER=mariposa-backend

# =============================================================================
# AI CONFIGURATION
# =============================================================================

# Together AI API Key (for AI agent interactions)
TOGETHER_API_KEY=your-together-ai-api-key-here

# Together AI Model
TOGETHER_MODEL=meta-llama/Meta-Llama-3.1-8B-Instruct-Turbo

# Together AI Base URL (optional override)
TOGETHER_BASE_URL=https://api.together.xyz

# AI Request Timeout (milliseconds)
AI_REQUEST_TIMEOUT=30000

# Maximum AI Response Length
AI_MAX_RESPONSE_LENGTH=4000

# =============================================================================
# SEI BLOCKCHAIN CONFIGURATION
# =============================================================================

# SEI Network RPC URL
# Arctic Testnet: https://evm-rpc.arctic-1.seinetwork.io
# Mainnet: https://evm-rpc.sei-apis.com
SEI_RPC_URL=https://evm-rpc.arctic-1.seinetwork.io

# SEI Chain ID
# Arctic Testnet: arctic-1
# Mainnet: pacific-1
SEI_CHAIN_ID=arctic-1

# SEI Network Name
SEI_NETWORK=arctic-1

# Gas Configuration
SEI_GAS_LIMIT=2000000
SEI_GAS_PRICE=20000000000

# =============================================================================
# SMART CONTRACT ADDRESSES
# =============================================================================

# Agentic Router Contract Address
AGENTIC_ROUTER_ADDRESS=0x1234567890123456789012345678901234567890

# DragonSwap Router Address (if using DragonSwap)
DRAGONSWAP_ROUTER_ADDRESS=0x1234567890123456789012345678901234567890

# DragonSwap Factory Address
DRAGONSWAP_FACTORY_ADDRESS=0x1234567890123456789012345678901234567890

# =============================================================================
# TOKEN ADDRESSES (SEI ARCTIC TESTNET)
# =============================================================================

# Native Wrapped SEI
WSEI_ADDRESS=0xe30fedd158a2e3b13e9badaeabafc5516e95e8c7

# Stablecoins
USDC_ADDRESS=0x3894085ef7ff0f0aedf52e2a2704928d1ec074f1
USDT_ADDRESS=0x9151434b16b9763660705744891fa906f660ecc5
USDD_ADDRESS=0x1234567890123456789012345678901234567890

# Major Cryptocurrencies
WETH_ADDRESS=0x160345fc359604fc6e70e3c5facbde5f7a9342d8
WBTC_ADDRESS=0x0555e30da8f98308edb960aa94c0db47230d2b9c

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Wallet Encryption Key (CRITICAL: Change in production)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
WALLET_ENCRYPTION_KEY=change_this_to_a_secure_key_in_production

# Bcrypt Salt Rounds (higher = more secure but slower)
BCRYPT_SALT_ROUNDS=12

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session Configuration
SESSION_SECRET=your-session-secret-here
SESSION_TIMEOUT=1440

# =============================================================================
# OTP CONFIGURATION
# =============================================================================

# OTP Service Provider (twilio/messagebird/custom)
OTP_PROVIDER=custom

# Twilio Configuration (if using Twilio)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# OTP Settings
OTP_LENGTH=6
OTP_EXPIRY_MINUTES=5
OTP_MAX_ATTEMPTS=3

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================

# Email Service Provider
EMAIL_PROVIDER=smtp

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-email-password

# Email Templates
EMAIL_FROM=noreply@mariposa.com
EMAIL_FROM_NAME=Mariposa Platform

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================

# File Upload Configuration
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf

# Storage Provider (local/s3/cloudinary)
STORAGE_PROVIDER=local

# Local Storage
LOCAL_STORAGE_PATH=./uploads

# AWS S3 Configuration (if using S3)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level (error/warn/info/debug)
LOG_LEVEL=info

# Log File Path
LOG_FILE_PATH=./logs/app.log

# Enable Request Logging
ENABLE_REQUEST_LOGGING=true

# Enable Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Cache Provider (memory/redis)
CACHE_PROVIDER=memory

# Redis Configuration (if using Redis)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# Cache TTL (seconds)
CACHE_TTL=3600

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================

# Enable WebSocket
ENABLE_WEBSOCKET=true

# WebSocket Port (usually same as HTTP port)
WEBSOCKET_PORT=5000

# WebSocket CORS Origins
WEBSOCKET_CORS_ORIGINS=http://localhost:3002

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# Enable API Metrics
ENABLE_METRICS=true

# Enable Health Checks
ENABLE_HEALTH_CHECKS=true

# Sentry Error Monitoring (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================

# Default Trading Settings
DEFAULT_SLIPPAGE=0.01
MIN_SLIPPAGE=0.001
MAX_SLIPPAGE=0.1

# Trading Limits
MIN_TRADE_AMOUNT=0.001
MAX_TRADE_AMOUNT=10000

# Transaction Timeout (milliseconds)
TRANSACTION_TIMEOUT=60000

# =============================================================================
# AGENT CONFIGURATION
# =============================================================================

# Maximum number of agents per user
MAX_AGENTS_PER_USER=5

# Agent execution timeout (milliseconds)
AGENT_EXECUTION_TIMEOUT=30000

# Enable agent memory persistence
ENABLE_AGENT_MEMORY=true

# Agent memory retention (days)
AGENT_MEMORY_RETENTION_DAYS=30

# =============================================================================
# PIPELINE CONFIGURATION
# =============================================================================

# Maximum pipelines per user
MAX_PIPELINES_PER_USER=10

# Pipeline execution interval (milliseconds)
PIPELINE_EXECUTION_INTERVAL=60000

# Enable pipeline scheduling
ENABLE_PIPELINE_SCHEDULING=true

# =============================================================================
# MARKET DATA CONFIGURATION
# =============================================================================

# Market MCP Server URL
MCP_SERVER_URL=http://localhost:3001

# Price Update Interval (milliseconds)
PRICE_UPDATE_INTERVAL=5000

# Enable real-time price feeds
ENABLE_REALTIME_PRICES=true

# Price Cache TTL (seconds)
PRICE_CACHE_TTL=300

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Enable API Documentation (Swagger)
ENABLE_API_DOCS=true

# Enable Development Routes
ENABLE_DEV_ROUTES=true

# Mock External Services (for testing)
MOCK_EXTERNAL_SERVICES=false

# Enable SQL Query Logging
ENABLE_QUERY_LOGGING=false

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Enable Security Headers
ENABLE_SECURITY_HEADERS=true

# Enable Request ID Tracking
ENABLE_REQUEST_ID=true

# Enable HTTPS Redirect
ENABLE_HTTPS_REDIRECT=false

# Trust Proxy (for load balancers)
TRUST_PROXY=false

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Enable Automatic Backups
ENABLE_AUTO_BACKUP=false

# Backup Interval (hours)
BACKUP_INTERVAL_HOURS=24

# Backup Retention (days)
BACKUP_RETENTION_DAYS=30

# Backup Storage Path
BACKUP_STORAGE_PATH=./backups

# =============================================================================
# NOTES
# =============================================================================

# 1. Never commit this file with real secrets to version control
# 2. Use environment-specific values for different deployment stages
# 3. Generate secure random keys for all secret values
# 4. Regularly rotate API keys and secrets
# 5. Use proper database connections for production
# 6. Enable HTTPS in production
# 7. Configure proper CORS origins for production
# 8. Set appropriate rate limits for production
# 9. Enable monitoring and logging in production
# 10. Test all configurations before deploying 